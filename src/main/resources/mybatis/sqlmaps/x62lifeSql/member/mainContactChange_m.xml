<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mainContactChange">
<!--    '프로젝트: 자연이랑 모바일 웹-->
<!--    '프로그램: 실사용자 연락처 정보 업데이트 캠페인-->

<!--    '20180115   hyeok   처음작성-->
<!--    '20180117   hwkim   레이아웃 수정-->
    <select id="getPersonalInfo" statementType="CALLABLE">
        /* getPersonalInfo 사용자 정보 가져오기*/
       {CALL encryptionOpen
        SELECT a.memcd
             , CONVERT(VARCHAR(14),DECRYPTBYKEY(a.hpno_enc)) hpno
             , CONVERT(VARCHAR(14),DECRYPTBYKEY(a.telno_enc)) telno
             , CONVERT(VARCHAR(40),DECRYPTBYKEY(a.email_enc)) email
             , a.smsyn, a.emailyn, ISNULL(a.telyn,'N') telyn
             , a.hpno alreadychange
        FROM mb_master a
         WHERE a.memcd = #{strLoginMemCD}
        CALL encryptionClose}
    </select>
</mapper>