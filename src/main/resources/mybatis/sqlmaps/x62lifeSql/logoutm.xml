<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="loginm1">
<!--    '20121011   hwkim   처음 작성 시작
    '20170314   hwkim   backurl 추가-->
    <update id="saveLogoutInfoExistInfo">
       /* saveLogoutInfoExistInfo 회원 로그아웃 정보 저장*/
        UPDATE logininfo 
           SET last_logout = GETDATE() 
	         , islogin = 0
	     WHERE memcd = #{memcd}
    </update>
    
    <insert id="saveLoginInfoNotExistInfo">
       /* saveLoginInfoNotExistInfo 로그인 정보가 없을 경우 신규 ADD*/
        INSERT INTO logininfo(
                               memcd
                             , last_login
                             , last_logout
                             , islogin
                             , login_count
                             )
               VALUES (
                        #{memcd}
                      , ''
                      , GETDATE()
                      , 0
                      , 1
                      )
    </insert>
</mapper>